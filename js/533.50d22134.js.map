{"version":3,"file":"js/533.50d22134.js","mappings":"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","sources":["webpack://vue_week7/./src/views/FrontCart.vue","webpack://vue_week7/./src/views/FrontCart.vue?efb1"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <MyLoading :active=\"isLoading\" :z-index=\"1060\"></MyLoading>\n    <div class=\"mt-4\">\n      <!-- 產品列表 -->\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th>圖片</th>\n            <th>商品名稱</th>\n            <th>價格</th>\n            <th>功能</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in products\" :key=\"item.id\">\n            <td style=\"width: 200px\">\n              <div\n                style=\"height: 100px; background-size: cover; background-position: center\"\n                :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n              ></div>\n            </td>\n            <td>\n              <a href=\"#\" class=\"text-dark\">{{ item.title }}</a>\n            </td>\n            <td>\n              <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\n              <del class=\"h6\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\n              <div class=\"h5\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\n            </td>\n            <td>\n              <div class=\"btn-group btn-group-sm\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary\"\n                  :disabled=\"status.loadingItem === item.id || !item.is_enabled\"\n                  @click=\"getProduct(item.id)\"\n                >\n                  <span\n                    class=\"spinner-border spinner-grow-sm\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></span>\n                  查看更多\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger\"\n                  @click=\"addToCart(item.id)\"\n                  :disabled=\"status.loadingItem === item.id || !item.is_enabled\"\n                >\n                  <span\n                    class=\"spinner-border spinner-grow-sm\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></span>\n                  加到購物車\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <!-- 購物車列表 -->\n      <div class=\"text-end\">\n        <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"deleteAllCarts\">\n          清空購物車\n        </button>\n      </div>\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>品名</th>\n            <th style=\"width: 110px\">數量</th>\n            <th>單價</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-if=\"cart.carts\">\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  :disabled=\"status.loadingItem === item.id\"\n                  @click=\"removeCartItem(item.id)\"\n                >\n                  <i class=\"bi bi-x\"></i>\n                </button>\n              </td>\n              <td>\n                {{ item.product.title }}\n                <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <label for=\"updateCart\">\n                    <input\n                      type=\"number\"\n                      class=\"form-control\"\n                      min=\"1\"\n                      v-model.number=\"item.qty\"\n                      @blur=\"updateCart(item)\"\n                  /></label>\n                  <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\n                {{ $filters.currency(item.final_total) }}\n              </td>\n            </tr>\n          </template>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"3\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n          </tr>\n          <tr v-if=\"cart.final_total !== cart.total\">\n            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n            <td class=\"text-end text-success\">\n              {{ $filters.currency(cart.final_total) }}\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div class=\"input-group mb-3 input-group-sm\">\n        <label for=\"couponCode\"> <input type=\"hidden\" /></label>\n        <input\n          id=\"couponCode\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"coupon_code\"\n          placeholder=\"請輸入優惠碼\"\n        />\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\n            套用優惠碼\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"my-5 row justify-content-center\">\n      <MyForm ref=\"form\" class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Email <input type=\"hidden\" /></label>\n          <MyField\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            rules=\"email|required\"\n            v-model=\"form.user.email\"\n          ></MyField>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">收件人姓名 <input type=\"hidden\" /></label>\n          <MyField\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n          ></MyField>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label\">收件人電話 <input type=\"hidden\" /></label>\n          <MyField\n            id=\"tel\"\n            name=\"電話\"\n            type=\"tel\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            rules=\"required|min:8|max:10\"\n            v-model=\"form.user.tel\"\n          ></MyField>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label\">收件人地址 <input type=\"hidden\" /></label>\n          <MyField\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n          ></MyField>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label\">留言 <input type=\"hidden\" /></label>\n          <textarea\n            name=\"\"\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <div class=\"text-end\">\n          <button class=\"btn btn-danger\">送出訂單</button>\n        </div>\n      </MyForm>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: '',\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      cart: {},\n      isLoading: false,\n      coupon_code: '',\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.products = response.data.products;\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    addToCart(id, qty = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          this.status.loadingItem = '';\n          this.isLoading = false;\n          this.$httpMessageState(response, '加入購物車');\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    deleteAllCarts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.$httpMessageState(response, '清除購物車');\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '清除購物車');\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.cart = response.data.data;\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.$httpMessageState(response, '移除購物車品項');\n          this.status.loadingItem = '';\n          this.isLoading = false;\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '移除購物車品項');\n        });\n    },\n    updateCart(data) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${data.id}`;\n      const cart = {\n        product_id: data.product_id,\n        qty: data.qty,\n      };\n\n      this.$http\n        .put(url, { data: cart })\n        .then((response) => {\n          this.$httpMessageState(response, '更新購物車');\n          this.isLoading = false;\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '更新購物車');\n        });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: coupon })\n        .then((response) => {\n          this.$httpMessageState(response, '加入優惠券');\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '加入優惠券');\n        });\n    },\n    createOrder() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http\n        .post(url, { data: order })\n        .then((response) => {\n          this.$httpMessageState(response, '建立訂單');\n          this.$router.push(`/user/checkout/${response.data.orderId}`);\n          this.$refs.form.resetForm();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '建立訂單');\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./FrontCart.vue?vue&type=template&id=6eaf06d7\"\nimport script from \"./FrontCart.vue?vue&type=script&lang=js\"\nexport * from \"./FrontCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\hexSchool\\\\vue_week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","href","_hoisted_21","for","colspan","type","_createElementBlock","_createVNode","_component_MyLoading","active","$data","_hoisted_4","_Fragment","_renderList","item","key","id","backgroundImage","imageUrl","_toDisplayString","title","price","origin_price","disabled","loadingItem","is_enabled","onClick","$options","_hoisted_19","carts","product","coupon","min","qty","$event","onBlur","unit","final_total","total","_ctx","currency","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_36","placeholder","_component_MyForm","ref","onSubmit","errors","_hoisted_40","_component_MyField","name","rules","user","email","_component_ErrorMessage","_hoisted_42","_hoisted_44","tel","_hoisted_46","address","_hoisted_48","cols","rows","message","_hoisted_49","data","products","status","form","cart","isLoading","coupon_code","methods","getProducts","url","this","$http","get","then","response","catch","error","$httpMessageState","getProduct","$router","push","addToCart","product_id","post","getCart","deleteAllCarts","delete","removeCartItem","updateCart","put","addCouponCode","code","createOrder","order","orderId","$refs","resetForm","created","__exports__","render"],"sourceRoot":""}