"use strict";(self["webpackChunkvue_week7"]=self["webpackChunkvue_week7"]||[]).push([[90],{4090:function(e,s,n){n.r(s),n.d(s,{default:function(){return g}});var t=n(6252),a=n(9963);const r={class:"body"},o={class:"container"},i={class:"row justify-content-center"},u=(0,t._)("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),d={class:"col-8"},c={class:"mb-3"},l={for:"username"},p={class:"mb-3"},m={for:"password"},h=(0,t._)("button",{class:"btn btn-lg btn-primary w-50 mt-1",type:"submit"},"登入",-1),w=(0,t._)("p",{class:"mt-5 mb-3 text-muted"},"© 2022~∞ - DDDDK",-1);function v(e,s,n,v,b,f){const _=(0,t.up)("MyLoading");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",o,[(0,t.Wm)(_,{active:b.isLoading,"z-index":1060},null,8,["active"]),(0,t._)("div",i,[u,(0,t._)("div",d,[(0,t._)("form",{id:"form",class:"form-signin",onSubmit:s[2]||(s[2]=(0,a.iM)(((...e)=>f.signIn&&f.signIn(...e)),["prevent"]))},[(0,t._)("div",c,[(0,t._)("label",l,[(0,t.wy)((0,t._)("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"","onUpdate:modelValue":s[0]||(s[0]=e=>b.user.username=e)},null,512),[[a.nr,b.user.username]])])]),(0,t._)("div",p,[(0,t._)("label",m,[(0,t.wy)((0,t._)("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=e=>b.user.password=e)},null,512),[[a.nr,b.user.password]])])]),h],32)])]),w])])}var b={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{signIn(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{const{token:s,expired:n}=e.data;document.cookie=`hexToken=${s};expires=${new Date(n)};path=/;`,this.isLoading=!1,this.$router.push("/admin/products")})).catch((e=>{this.isLoading=!1,this.$httpMessageState(e.response,"登入")}))}}},f=n(3744);const _=(0,f.Z)(b,[["render",v]]);var g=_}}]);
//# sourceMappingURL=90.9f01bb23.js.map